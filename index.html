<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<title>数说 - 用数据说话</title>

	<link rel="stylesheet" type="text/css" href="./css/main.css" />
    <link rel="stylesheet" type="text/css" href="./css/fixed-positioning.css" />

	<script src="./js/jquery.min.js"></script>

</head>
<body>
    <div id="mid-layer" data-0="background-position: 50% 0%;" data-end="background-position: 50% 30%"></div>
    <div id="background-layer" data-0="background-position: 50% 0%;" data-end="background-position: 50% 12%"></div>
    <ul id="nav">
        <div id="nav-logo"></div>
        <li>首&nbsp;&nbsp;&nbsp;&nbsp;页</li>
        <li>关于我们</li>
        <li>案&nbsp;&nbsp;&nbsp;&nbsp;例</li>
        <li>联系我们</li>
        <div id="cur-section"></div>
    </ul>

    <div id="first-section" data-0p="opacity[quadratic]: 1;" data-25p=" opacity: 0.2;">
        <div id="logo-background"><div id="logo"></div></div>
        <div id="slogan">专业数据可视化服务</div>
        <div id="down-arrow"></div>
    </div>

    <div id="second-section">
        <div id="sea" data-25p="opacity: 0.2;" data-50p="opacity: 1;">
            <div id="intro1-hover">前言</div>
            <div id="intro2-hover">第二部分</div>
            <div id="intro3-hover">第三部分</div>
            <div id="intro4-hover">第四部分</div>
            <div class="intro" id="intro1"></div>
            <div class="intro" id="intro2"></div>
            <div class="intro" id="intro3"></div>
            <div class="intro" id="intro4"></div>
        </div>
    </div>

    <div id="third-section">
        <div class="section-title">案&nbsp;&nbsp;&nbsp;&nbsp;例</div>
        <div class="prj-block">
            <ul class="prj-wrap-odd first-line fix">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>

            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->

            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->
            <!-- display:none start -->
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-even fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <ul class="prj-wrap-odd fix appended">
                <li class="prj"></li>
                <li class="prj"></li>
                <li class="prj"></li>
            </ul>
            <!-- display:none end -->

        </div>
        <div id="more">查看更多</div>
    </div>

    <div id="forth-section">
        <div class="section-title">联系我们</div>
        <div class="cnt-line">
            <div class="cnt-wrap fix">
                <div class="cnt email first-cnt">
                    <div class="cnt-title">邮箱</div>
                    <div class="cnt-detail"><a href="mailto:f-cube@baidu.com" onclick="javascript:;">f-cube@baidu.com</a></div>
                </div>
                <div class="cnt qq">
                    <div class="cnt-title">QQ</div>
                    <div class="cnt-detail">234589330</div>
                </div>
                <div class="cnt addr">
                    <div class="cnt-title">地址</div>
                    <div class="cnt-detail">北京市海淀区上地十街</div>
                </div>
            </div>
        </div>
        <div class="footer">
                <ul class="friend-wrap fix">
                    <li class="friend-link baidu-bim">BIM营销研究院</li>
                    <li class="friend-link baidu-map">百度地图</li>
                    <li class="friend-link baidu-tieba">百度贴吧</li>
                    <li class="friend-link baidu-brand">品牌数字资产榜</li>
                    <li class="friend-link baidu-daiyan">百度代言</li>
                </ul>
            <div class="copyright">&copy; 2014 Baidu. All rights reserved.</div>
        </div>
    </div>

    <div id="skrollr-body"></div>


    <script type="text/javascript" src="./js/skrollr.min.js"></script>
    <script type="text/javascript" src="./js/jquery.mousewheel.min.js"></script>

    <!--[if lt IE 9]>
    <script type="text/javascript" src="../skrollr-ie/dist/skrollr.ie.min.js"></script>
    <![endif]-->

    <script type="text/javascript">
        var s = skrollr.init({
            edgeStrategy: 'set',
            smoothScrolling: true,
            easing: {
                WTF: Math.random,
                inverted: function(p) {
                    return 1-p;
                }

            }
        });

        $(function(){

            var isInProcess = false,
                section3num = 1;    // 记录第三部分有几屏


            var scrollHandler = function(e, d) {

                var direction = 0;  // -1：向下 1：向上

                if (isInProcess) return;
                isInProcess = true;

                if (e.type == 'keydown') {
                    if (e.keyCode === 37 || e.keyCode === 38) direction = 1;  // 向上
                    else if(e.keyCode === 39 || e.keyCode === 40 || e.keyCode === 32) direction = -1;  // 向下
                    else direction = 0;
                } else {
                    direction= e.deltaY;
                }

                s.animateTo(s.getScrollTop() - direction * $(window).height(), {
                    duration: 800,
                    easing: 'swing',
                    done: function(){
                        isInProcess = false;
                    }
                });
            };

            var resizeSectionHandler = function(){
                var sectionHeight = $(window).height();

                $.each($('#cur-section')[0].dataset, function(idx, ele){
                    $('#cur-section').removeAttr('data-' + idx );
                });

                $('#cur-section')
                        .attr('data-0', 'top[swing]: 55px')
                        .attr('data-' + 1 * sectionHeight, 'top: 87px')
                        .attr('data-' + 2 * sectionHeight, 'top: 119px')
                        .attr('data-' + ((1 + section3num) * sectionHeight-1), 'top: 119px')
                        .attr('data-' + (2 + section3num) * sectionHeight, 'top: 151px');
                s.refresh($('#cur-section'));

                $('#first-section, #second-section, #forth-section').height(sectionHeight);
                $('#third-section').height(section3num * sectionHeight);

                var curSectionIndex = Math.ceil(s.getScrollTop()/sectionHeight-0.5);
                s.setScrollTop(curSectionIndex * sectionHeight);
            };

            var resizeSection3Handler = function(){
                var sectionHeight = $(window).height(),
                    sectionWidth = $(window).width(),
                    ratio = Math.min(sectionHeight/920, Math.min(sectionWidth, 976)/976);

                var itemW = Math.floor(244 * ratio);
                var itemH = Math.floor(280 * ratio);
                $('.prj').width(itemW);
                $('.prj').height(itemH);
                $('.prj').css('background-size', itemW + 'px ' + itemH + 'px');

                $('.prj-wrap-odd').css('width', 3 * (itemW + 1) + 'px');
                $('.prj-wrap-even').css('width', 4 * (itemW + 1) + 'px');
                $('.prj-wrap-odd, .prj-wrap-even').css('height', itemH + 'px')
                                                  .css('margin-top', -71 * ratio + 'px');

            }



            $(document).mousewheel(scrollHandler);
            $(document).keydown(scrollHandler);
            resizeSectionHandler();
            resizeSection3Handler();

            $('#nav li').click(function(e){
                s.animateTo(($(e.target).index()-1) * $(window).height(), {
                    duration: 800,
                    easing: 'swing'
                });
            });

            $('#more').click(function(){
                section3num++;
                $('.appended:lt(4)').removeClass('appended');

                var section3Height = $(window).height() * section3num;
                $('#third-section').height(section3Height);
                $(document.body).height($(document.body).height() + (section3num - 1) * $(window).height());
                resizeSectionHandler();
            });


            $(window).resize(function(){
                resizeSectionHandler();
                resizeSection3Handler();
            });


            /* sea hover 事件 */
            var ap = {
                intro1:{
                    'in':{
                        width: '320px',
                        height: '416px',
                        top: '-90px',
                        left: '160px'
                    },
                    'out': {
                        width: '0px',
                        height: '0px',
                        top: '320px',
                        left: '394px'
                    },
                    'isMouseIn': false, // 互斥信号量
                    'isMouseOut': false
                },
                intro2:{
                    'in':{
                        width: '305px',
                        height: '430px',
                        top: '-224px',
                        left: '508px'
                    },
                    'out': {
                        width: '0px',
                        height: '0px',
                        top: '202px',
                        left: '694px'
                    },
                    'isMouseIn': false,
                    'isMouseOut': false
                },
                intro3:{
                    'in':{
                        width: '288px',
                        height: '434px',
                        top: '-324px',
                        right: '397px'
                    },
                    'out': {
                        width: '0px',
                        height: '0px',
                        top: '108px',
                        right: '540px'
                    },
                    'isMouseIn': false,
                    'isMouseOut': false
                },
                intro4:{
                    'in':{
                        width: '326px',
                        height: '410px',
                        top: '-104px',
                        right: '265px'
                    },
                    'out': {
                        width: '0px',
                        height: '0px',
                        top: '306px',
                        right: '396px'
                    },
                    'isMouseIn': false,
                    'isMouseOut': false
                }
            };

            $('#intro1, #intro2, #intro3, #intro4').on('mouseover', function(){
                var id = $(this).attr('id');
                ap[id].isMouseIn = true;
                
                if (!ap[id].isMouseOut)
                {
                    $('#' + id).animate({
                        'backgroundSize': '0%'
                    },{
                        duration: 100,
                        progress: function(){
                            if (ap[id].isMouseOut)
                            {
                              ap[id].isMouseIn = false;
                              $(this).stop();
                              $(this).mouseout();
                            }
                        },
                        complete: function(){
                            $('#' + id + '-hover').animate(ap[id].in,{
                                duration: 500,
                                progress: function(){
                                    if (ap[id].isMouseOut)
                                    {
                                        ap[id].isMouseIn = false;
                                        $(this).stop();
                                        $('#' + id).mouseout();
                                    }
                                },
                                complete: function(){
                                    ap[id].isMouseIn = false;
                                }
                            });
                        }
                    });
                }
            });

            $('#intro1, #intro2, #intro3, #intro4').on('mouseout',function(){
                var id = $(this).attr('id');
                ap[id].isMouseOut = true;
                
                if (!ap[id].isMouseIn)
                {
                    $('#' + id + '-hover').animate(ap[id].out,{
                        duration: 500,
                        progress: function(){
                            if (ap[id].isMouseIn)
                            {
                                ap[id].isMouseOut = false;
                                $(this).stop();
                                $('#' + id).mouseover();
                            }
                        },
                        complete: function(){
                            $('#' + id).animate({
                                backgroundSize: '100%'
                            },
                            {
                                duration: 100,
                                progress: function(){
                                    if (ap[id].isMouseIn)
                                    {
                                        ap[id].isMouseOut = false;
                                        $(this).stop();
                                        $('#' + id).mouseover();
                                    }
                                },
                                complete: function(){
                                    ap[id].isMouseOut = false;
                                }
                            });
                        }
                    });
                }
            });
            
        });
    </script>

</body>
</html>